/*************************************************************************************************************************************
 * Name:        Member.cpp
 * Purpose:     member class

 * Licence:     GNU GPL v3.0 (29 June 2007)
 * -----------------------------------------------------------------------------------------------------------------------------------
 * Copyright (C) 2014, Stephen Wunschel
 *************************************************************************************************************************************/

// standard header files
#include <sstream>
#include <string>
#include <vector>
using namespace std;

//3rd party header files
#include <wx/log.h>

// project header files
#include "Member.h"
#include "shared_functions.h"

/*************************************************************************************************************************************
 * constructor
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
Member::Member()
{

}

/*************************************************************************************************************************************
 * destructor
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
Member::~Member()
{

}

/*************************************************************************************************************************************
 * getCurrentRating - retrieve current rating
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
int Member::getCurrentRating()
{
    return currentRating;
}

/*************************************************************************************************************************************
 * getFirstName - retrieve first name
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
string Member::getFirstName()
{
    return firstName;
}

/*************************************************************************************************************************************
 * getLastDate - retrieve date (yy/mm/dd) of last participation
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
string Member::getLastDate()
{
    // local variable
	string result;

	// process
    result = lastYear;
    result += "/";
    result += lastMonth;
    result += "/";
    result += lastDay;
    return result;
}

/*************************************************************************************************************************************
 * getLastName - retrieve last name
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
string Member::getLastName()
{
    return lastName;
}

/*************************************************************************************************************************************
 * getLastNameFirst - retrieve full name (last name first)
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
string Member::getLastNameFirst()
{
    string result;
    result = lastName;
    result += ", ";
    result += firstName;
    return result;
}

/*************************************************************************************************************************************
 * getMemberID - retrieve member ID
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
int Member::getMemberID()
{
    return memberID;
}

/*************************************************************************************************************************************
 * setString - set data members based on input string
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   08/xx/2014   SDW   initial coding
 *************************************************************************************************************************************/
bool Member::setString(string inputrec)
{
    // local variables
    stringstream ss;

	vector<string> words = split(inputrec, ',');
	ss << words[0];
	ss >> memberID;
	memberID = std::stoi(words[0]);
	lastName = words[1];
	firstName = words[2];
	//currentRating = stoi(words[3]);
	//prevRating = elements[4];
	//lastYear = elements[5];
	//lastMonth = elements[6];
	//lastDay = elements[7];

    return true;
}

